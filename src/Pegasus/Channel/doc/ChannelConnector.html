<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
   <TITLE>class  PEGASUS_COMM_LINKAGE ChannelConnector</TITLE>
   <META NAME="GENERATOR" CONTENT="DOC++ 3.4.7">
</HEAD>
<BODY BGCOLOR="#ffffff">

<H2>class  PEGASUS_COMM_LINKAGE <A HREF="#DOC.DOCU">ChannelConnector</A></H2></H2><BLOCKQUOTE>The ChannelConnector is a client-side object used to create and connect a channel to a server (see the connect() method).</BLOCKQUOTE>
<HR>

<DL>
<P><DL>
<DT><H3>Public Methods</H3><DD><DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif> <B><A HREF="#DOC.5.1">ChannelConnector</A></B>(<!1><A HREF="ChannelHandlerFactory.html">ChannelHandlerFactory</A>* factory)
<DD><I>Constructor.</I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>virtual   <B><A HREF="#DOC.5.2">~ChannelConnector</A></B>()
<DD><I>Virtual destructor</I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>virtual   Channel* <B><A HREF="#DOC.5.3">connect</A></B>(const char* addresss)
<DD><I>Connects to the given address.</I>
<DT>
<IMG ALT="[more]" BORDER=0 SRC=icon1.gif>virtual   void <B><A HREF="#DOC.5.4">disconnect</A></B>(Channel* channel)
<DD><I>Disconnects from the server and destroys the channel argument.</I>
</DL></P>

</DL>

<A NAME="DOC.DOCU"></A>
<HR>
<H2>Documentation</H2>
<BLOCKQUOTE>The ChannelConnector is a client-side object used to create and connect
a channel to a server (see the connect() method). A ChannelHandlerFactory
is passed to the constructor. Each time connect() is called, an instance
of Channel (internal implementation) is created and an instance of
ChannelHandler is created using the supplied factory. As described in the
ChannelHandler documentation, methods of the ChannelHandler are invoked
in response to various events. The following example, illustrates the use
of the ChannelConnector:

<P><PRE>
	class MyChannelHandler : public ChannelHandler
	{
	public:

<P>	    virtual Boolean handleOpen(Channel* channel);

<P>	    virtual Boolean handleInput(Channel* channel);

<P>	    virtual void handleClose(Channel* channel);
	};

<P>	...

<P>	// Create a channel handler factory:

<P>	typedef DefaultChannelHandlerFactory<MyChannelHandler> MyFactory;
	MyFactory* factory = new MyFactory;

<P>	// Create a channel connector (in this example, a hypothetical TCP
	// channel connector implementation is used).

<P>	ChannelConnector* connector = new TcpChannelConnector;

<P>	// Connect to a TCP server to megabucks.com on port 8888; this causes
	// the following actions to be taken:
	//
	//     1. A connection is made to the given address.
	//     2. An instance of Channel is create for the new connection.
	//     3. The factory is used to create an instance of MyChannelHandler.
	//     4. The handleOpen() method is called on the new MyChannelHandler.
	//
	// It is not necessary to retain a pointer to the channel.  The
	// internal implementation is responsible for disposing of the channel
	// object.

<P>	Channel* channel = connector->connect("megabucks.com:8888");

<P>	// Write something to the server. This will cause the handleInput()
	// method to be called on the server's corresponding ChannelHandler.

<P>	const char MESSAGE[] = "Hello World";
	channel->write(MESSAGE, sizeof(MESSAGE));
    </PRE></BLOCKQUOTE>
<DL>

<A NAME="ChannelConnector"></A>
<A NAME="DOC.5.1"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B> ChannelConnector(<!1><A HREF="ChannelHandlerFactory.html">ChannelHandlerFactory</A>* factory)</B></TT>
<DD>Constructor. Stores the factory argument for later use. The factory
is used later by the connect method to create ChannelCallbacks.
<DL><DT><DD></DL><P>
<A NAME="~ChannelConnector"></A>
<A NAME="DOC.5.2"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   ~ChannelConnector()</B></TT>
<DD>Virtual destructor
<DL><DT><DD></DL><P>
<A NAME="connect"></A>
<A NAME="DOC.5.3"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   Channel* connect(const char* addresss)</B></TT>
<DD>Connects to the given address. Creates a Channel instance to hold state
about the connection. Then the factory is used to create a 
ChannelHandler for the connection. Next, handleOpen() method of this 
new ChannelHandler is invoked. The newly created channel is returned.
The channel connector is responsible for ultimately disposing of the 
connection object. The caller MUST NOT dispose of the object.
<DL><DT><DD></DL><P>
<A NAME="disconnect"></A>
<A NAME="DOC.5.4"></A>
<DT><IMG ALT="o" BORDER=0 SRC=icon2.gif><TT><B>virtual   void disconnect(Channel* channel)</B></TT>
<DD>Disconnects from the server and destroys the channel argument. This
method may be explicitly by the user or may be called implicitly when
the server severs the connections or hangs up.
<DL><DT><DD></DL><P></DL>

<HR><DL><DT><B>This class has no child classes.</B></DL>

<DL><DT><DD></DL><P><P><I><A HREF="index.html">Alphabetic index</A></I> <I><A HREF="HIER.html">HTML hierarchy of classes</A> or <A HREF="HIERjava.html">Java</A></I></P><HR>
<BR>
This page was generated with the help of <A HREF="http://www.linuxsupportline.com/~doc++">DOC++</A>.
</BODY>
</HTML>
